<form
  [formGroup]="form"
  (ngSubmit)="updatePassword()"
  class="items-center mt-8 sm:mt-14 text-[#202142]"
>
  <div class="mb-2 sm:mb-6">
    <label for="email" class="block mb-2 text-sm font-medium text-indigo-900"
      >Your old password</label
    >
    <input
      type="password"
      id="oldPassword"
      class="bg-indigo-50 border border-indigo-300 text-indigo-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5"
      formControlName="oldPassword"
      placeholder="••••••••"
    />
    <div
      *ngIf="
        form.controls['oldPassword'].touched &&
        form.controls['oldPassword'].invalid
      "
    >
      <small
        class="text-red-500"
        *ngIf="form.controls['oldPassword'].errors?.['required']"
      >
        Old Password is required.
      </small>
    </div>
  </div>
  <div class="mb-2 sm:mb-6">
    <label for="email" class="block mb-2 text-sm font-medium text-indigo-900"
      >Your New password</label
    >
    <input
      type="password"
      id="password"
      class="bg-indigo-50 border border-indigo-300 text-indigo-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5"
      formControlName="password"
      placeholder="••••••••"
    />
    <div
      *ngIf="
        form.controls['password'].touched && form.controls['password'].invalid
      "
    >
      <small
        class="text-red-500"
        *ngIf="form.controls['password'].errors?.['required']"
      >
        Password is required.
      </small>
    </div>
  </div>
  <div class="mb-2 sm:mb-6">
    <label for="email" class="block mb-2 text-sm font-medium text-indigo-900"
      >Confirm password</label
    >
    <input
      type="password"
      id="passwordConfirmation"
      class="bg-indigo-50 border border-indigo-300 text-indigo-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5"
      formControlName="passwordConfirmation"
      placeholder="••••••••"
    />
    <div
      *ngIf="
        form.controls['passwordConfirmation'].touched &&
        (form.controls['passwordConfirmation'].invalid ||
          form.errors?.['mismatch'])
      "
    >
      <small
        class="text-red-500"
        *ngIf="form.controls['passwordConfirmation'].errors?.['required']"
      >
        Password confirmation is required.
      </small>
      <small class="text-red-500" *ngIf="form.errors?.['mismatch']">
        Passwords do not match.
      </small>
    </div>
  </div>
  <div class="flex justify-between">
    <button
      (click)="toggleEdit()"
      type="button"
      class="text-white bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"
    >
      {{ isEditing ? "Cancel" : "Edit" }}
    </button>
    <button
      [disabled]="!isEditing"
      type="submit"
      [ngClass]="{
        'bg-green-700 hover:bg-green-800': isEditing,
        'bg-gray-300': !isEditing
      }"
      class="text-white focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"
    >
      Save
    </button>
  </div>
</form>
